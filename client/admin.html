<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Dashboard | Cafe</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
:root {
  --red:#c62828;
  --light:#ffebee;
  --dark:#333;
}
body {
  margin:0;
  font-family:Arial, sans-serif;
  display:flex;
  height:100vh;
}
.sidebar {
  width:230px;
  background:#fff;
  border-right:2px solid var(--red);
  padding:20px;
  display:flex;
  flex-direction:column;
}
.sidebar h2 {
  color:var(--red);
  text-align:center;
}
.sidebar button {
  background:none;
  border:none;
  padding:12px;
  text-align:left;
  cursor:pointer;
}
.sidebar button:hover {
  background:var(--light);
}
.logout {
  margin-top:auto;
  background:var(--red);
  color:#000;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: 1px solid var(--red);
}
.main {
  flex:1;
  padding:20px;
  background:#f7f7f7;
  overflow-y:auto;
}
.section { display:none; }
.section.active { display:block; }
.order-card {
  background:#fff;
  border-left:5px solid var(--red);
  padding:10px;
  margin-bottom:10px;
}
button.action {
  background:var(--red);
  color:white;
  border:none;
  padding:6px 10px;
  margin-right:5px;
}
table {
  width:100%;
  border-collapse:collapse;
  background:white;
}
th,td {
  border:1px solid #ddd;
  padding:8px;
  text-align:center;
}
th { background:var(--light); }
input,select {
  padding:8px;
  width:100%;
  margin-bottom:8px;
}

@media (max-width: 768px) {
  body {
    flex-direction: column;
    height: auto;
    min-height: 100vh;
  }
  .sidebar {
    width: 100%;
    flex-direction: row;
    flex-wrap: wrap;
    gap: 6px;
    border-right: none;
    border-bottom: 2px solid var(--red);
    padding: 12px;
    align-items: center;
  }
  .sidebar h2 {
    width: 100%;
    margin: 0 0 6px;
    font-size: 20px;
  }
  .sidebar button {
    padding: 10px 12px;
    border: 1px solid #eee;
    border-radius: 8px;
    background: #fff;
    flex: 1 1 120px;
    text-align: center;
  }
  .logout {
    width: 100%;
    flex: 1 1 100%;
    order: 99;
  }
  .main {
    padding: 14px;
  }
  .order-card {
    padding: 12px;
  }
  table {
    display: block;
    overflow-x: auto;
    white-space: nowrap;
  }
  th, td {
    padding: 8px 10px;
    font-size: 13px;
  }
}

@media (max-width: 480px) {
  .sidebar button {
    flex: 1 1 100%;
  }
  button.action {
    width: 100%;
    margin: 6px 0 0;
  }
  input, select {
    font-size: 14px;
    padding: 10px;
  }
}
</style>
</head>

<body>

<div class="sidebar">
  <h2>Cafe Admin</h2>
  <button onclick="showSection('menu')">üçΩ Menu</button>
  <button onclick="showSection('recent')">üïí Recent</button>
  <button onclick="showSection('accepted')">‚úÖ Accepted</button>
  <button onclick="showSection('completed')">‚úÖ Completed</button>
  <button onclick="showSection('rejected')">‚ùå Rejected</button>
  <button onclick="showSection('offer')">üéÅ Offer</button>
  <button onclick="showSection('gallery-approvals')">üì∏ Gallery Approvals</button>
  <button class="logout" onclick="logout()">Logout</button>
</div>

<div class="main">

<!-- MENU -->
<div id="menu" class="section active">
  <h2>Add Menu Item</h2>
  <input id="itemName" placeholder="Item name">
  <input id="itemPrice" type="number" placeholder="Price">

  <select id="itemCategory">
    <option value="">Select Category</option>
    <option value="coffee">Coffee</option>
    <option value="chai">Chai</option>
    <option value="drinks">Milk and Desi Drinks</option>
    <option value="juice">Juice</option>
    <option value="shakes">Shakes</option>
    <option value="breakfast">Breakfast</option>
    <option value="quick-bites">Quick Bites</option>
    <option value="maggi">Maggi</option>
    <option value="south-indian">South Indian</option>
    <option value="paratha">Paratha</option>
    <option value="dhapate">Dhapate</option>
    <option value="thalipith">Thalipith</option>
    <option value="rice">Rice</option>
    <option value="fries-nuggets">Fries | Nuggets | Kababs</option>
    <option value="upwas-special">Upwas Special</option>
    <option value="sandwiches">Sandwiches</option>
    <option value="pizzas">Pizzas</option>
    <option value="burgers">Burgers</option>
    <option value="wraps-rolls">Wraps & Rolls</option>
    <option value="momos-noodles">Momos | Noodles</option>
    <option value="thali">Thali</option>
    <option value="bhakri-chapati">Bhakri & Chapati Special</option>
    <option value="special-poli">Special Poli</option>
    <option value="todays-special">Today's Special</option>
    <option value="offer-zone">Offer Zone</option>
  </select>

  <button class="action" onclick="addItem()">Add Item</button>

  <div id="menu-container"></div>
</div>

<!-- RECENT -->
<div id="recent" class="section">
  <h2>Recent Orders</h2>
  <input placeholder="Search name / order #" oninput="searchOrders(this.value)">
  <div id="recent-orders"></div>
</div>

<!-- ACCEPTED -->
<div id="accepted" class="section">
  <h2>Accepted Orders</h2>
  <div id="accepted-orders"></div>
</div>

<!-- COMPLETED -->
<div id="completed" class="section">
  <h2>Completed Orders</h2>
  <div id="completed-orders"></div>
</div>

<!-- REJECTED -->
<div id="rejected" class="section">
  <h2>Rejected Orders</h2>
  <div id="rejected-orders"></div>
</div>
<!-- OFFER -->
<div id="offer" class="section">
  <h2>Update Offer Image</h2>

  <input id="offerImageUrl" placeholder="Enter image path (example: /assets/images/banner.jpg)">
  <div style="margin:8px 0;">or</div>
  <input id="offerImageFile" type="file" accept="image/*">
  <button class="action" onclick="updateOffer()">Update Offer</button>

  <p style="margin-top:15px;">Current Offer Preview:</p>
  <img id="adminOfferPreview" style="max-width:300px;">
</div>

<!-- GALLERY APPROVALS -->
<div id="gallery-approvals" class="section">
  <h2>Gallery Approval Requests</h2>
  <div id="gallery-approvals-list"></div>
</div>


</div>

<script>
  // üîê Protect admin page using token
  const token = localStorage.getItem("adminToken");

  if (!token) {
    window.location.href = "admin-login.html";
  }

  function logout() {
    localStorage.removeItem("adminToken");
    window.location.href = "admin-login.html";
  }

  function showSection(id) {
    document.querySelectorAll(".section")
      .forEach(s => s.classList.remove("active"));

    document.getElementById(id)
      .classList.add("active");
  }
</script>


<script src="js/admin.js"></script>
</body>
</html>
